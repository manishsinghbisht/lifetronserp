@using System.Threading
@using Lifetrons.Erp.Helpers
@model IEnumerable<Lifetrons.Erp.Data.EMailInbox>
@{
    ViewBag.Title = "Email Inbox";
}

<div class="row center-block">
    <div class="col-sm-12 panel panel-default">
        <div class="panel-heading text-center">
            <b>Inbox (Latest 10)</b>
        </div>
        <div class="panel-body" style="height: 200px; overflow:auto;">
            <table class="table table-striped  table-hover">
                <tr>
                    <th>
                        From
                    </th>
                    <th>
                        Date  
                    </th>
                    <th>
                        Subject
                    </th>
                    <th>
                        Body
                    </th>

                    <th>
                        Attachments
                    </th>
                </tr>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.From)</td>
                        <td>@Html.DisplayFor(modelItem => item.DateSent)</td>
                        <td>@Html.DisplayFor(modelItem => item.Subject)</td>
                        <td>@Html.DisplayFor(modelItem => item.Body)</td>
                        <td>
                            @foreach (var attachment in item.Attachments)
                            {
                                @Html.DisplayFor(modelItem => attachment.FileName)
                                <br />
                            }
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
</div>
